


<!DOCTYPE html>
<html id="htmlId">
<head>
  <title>Coverage Report > NaturalOrderComparator</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">org.cbioportal.genome_nexus.util</a>
</div>

<h1>Coverage Summary for Class: NaturalOrderComparator (org.cbioportal.genome_nexus.util)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">NaturalOrderComparator</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (4/4)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    90,4%
  </span>
  <span class="absValue">
    (47/52)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;/*
&nbsp; NaturalOrderComparator.java -- Perform &#39;natural order&#39; comparisons of strings in Java.
&nbsp; Copyright (C) 2003 by Pierre-Luc Paour &lt;natorder@paour.com&gt;
&nbsp;
&nbsp; Based on the C version by Martin Pool, of which this is more or less a straight conversion.
&nbsp; Copyright (C) 2000 by Martin Pool &lt;mbp@humbug.org.au&gt;
&nbsp;
&nbsp; This software is provided &#39;as-is&#39;, without any express or implied
&nbsp; warranty.  In no event will the authors be held liable for any damages
&nbsp; arising from the use of this software.
&nbsp;
&nbsp; Permission is granted to anyone to use this software for any purpose,
&nbsp; including commercial applications, and to alter it and redistribute it
&nbsp; freely, subject to the following restrictions:
&nbsp;
&nbsp; 1. The origin of this software must not be misrepresented; you must not
&nbsp; claim that you wrote the original software. If you use this software
&nbsp; in a product, an acknowledgment in the product documentation would be
&nbsp; appreciated but is not required.
&nbsp; 2. Altered source versions must be plainly marked as such, and must not be
&nbsp; misrepresented as being the original software.
&nbsp; 3. This notice may not be removed or altered from any source distribution.
&nbsp; */
&nbsp;package org.cbioportal.genome_nexus.util;
&nbsp;
&nbsp;import java.util.*;
&nbsp;
<b class="fc">&nbsp;public class NaturalOrderComparator implements Comparator</b>
&nbsp;{
&nbsp;    int compareRight(String a, String b)
&nbsp;    {
<b class="fc">&nbsp;        int bias = 0;</b>
<b class="fc">&nbsp;        int ia = 0;</b>
<b class="fc">&nbsp;        int ib = 0;</b>
&nbsp;
&nbsp;        // The longest run of digits wins. That aside, the greatest
&nbsp;        // value wins, but we can&#39;t know that it will until we&#39;ve scanned
&nbsp;        // both numbers to know that they have the same magnitude, so we
&nbsp;        // remember it in BIAS.
<b class="fc">&nbsp;        for (;; ia++, ib++)</b>
&nbsp;        {
<b class="fc">&nbsp;            char ca = charAt(a, ia);</b>
<b class="fc">&nbsp;            char cb = charAt(b, ib);</b>
&nbsp;
<b class="fc">&nbsp;            if (!Character.isDigit(ca) &amp;&amp; !Character.isDigit(cb))</b>
&nbsp;            {
<b class="fc">&nbsp;                return bias;</b>
&nbsp;            }
<b class="fc">&nbsp;            else if (!Character.isDigit(ca))</b>
&nbsp;            {
<b class="fc">&nbsp;                return -1;</b>
&nbsp;            }
<b class="fc">&nbsp;            else if (!Character.isDigit(cb))</b>
&nbsp;            {
<b class="fc">&nbsp;                return +1;</b>
&nbsp;            }
<b class="fc">&nbsp;            else if (ca &lt; cb)</b>
&nbsp;            {
<b class="fc">&nbsp;                if (bias == 0)</b>
&nbsp;                {
<b class="fc">&nbsp;                    bias = -1;</b>
&nbsp;                }
&nbsp;            }
<b class="fc">&nbsp;            else if (ca &gt; cb)</b>
&nbsp;            {
<b class="fc">&nbsp;                if (bias == 0)</b>
<b class="fc">&nbsp;                    bias = +1;</b>
&nbsp;            }
<b class="fc">&nbsp;            else if (ca == 0 &amp;&amp; cb == 0)</b>
&nbsp;            {
<b class="nc">&nbsp;                return bias;</b>
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public int compare(Object o1, Object o2)
&nbsp;    {
<b class="fc">&nbsp;        String a = o1.toString();</b>
<b class="fc">&nbsp;        String b = o2.toString();</b>
&nbsp;
<b class="fc">&nbsp;        int ia = 0, ib = 0;</b>
<b class="fc">&nbsp;        int nza = 0, nzb = 0;</b>
&nbsp;        char ca, cb;
&nbsp;        int result;
&nbsp;
&nbsp;        while (true)
&nbsp;        {
&nbsp;            // only count the number of zeroes leading the last number compared
<b class="fc">&nbsp;            nza = nzb = 0;</b>
&nbsp;
<b class="fc">&nbsp;            ca = charAt(a, ia);</b>
<b class="fc">&nbsp;            cb = charAt(b, ib);</b>
&nbsp;
&nbsp;            // skip over leading spaces or zeros
<b class="fc">&nbsp;            while (Character.isSpaceChar(ca) || ca == &#39;0&#39;)</b>
&nbsp;            {
<b class="fc">&nbsp;                if (ca == &#39;0&#39;)</b>
&nbsp;                {
<b class="fc">&nbsp;                    nza++;</b>
&nbsp;                }
&nbsp;                else
&nbsp;                {
&nbsp;                    // only count consecutive zeroes
<b class="nc">&nbsp;                    nza = 0;</b>
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                ca = charAt(a, ++ia);</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            while (Character.isSpaceChar(cb) || cb == &#39;0&#39;)</b>
&nbsp;            {
<b class="fc">&nbsp;                if (cb == &#39;0&#39;)</b>
&nbsp;                {
<b class="fc">&nbsp;                    nzb++;</b>
&nbsp;                }
&nbsp;                else
&nbsp;                {
&nbsp;                    // only count consecutive zeroes
<b class="nc">&nbsp;                    nzb = 0;</b>
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                cb = charAt(b, ++ib);</b>
&nbsp;            }
&nbsp;
&nbsp;            // process run of digits
<b class="fc">&nbsp;            if (Character.isDigit(ca) &amp;&amp; Character.isDigit(cb))</b>
&nbsp;            {
<b class="fc">&nbsp;                if ((result = compareRight(a.substring(ia), b.substring(ib))) != 0)</b>
&nbsp;                {
<b class="fc">&nbsp;                    return result;</b>
&nbsp;                }
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            if (ca == 0 &amp;&amp; cb == 0)</b>
&nbsp;            {
&nbsp;                // The strings compare the same. Perhaps the caller
&nbsp;                // will want to call strcmp to break the tie.
<b class="nc">&nbsp;                return nza - nzb;</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            if (ca &lt; cb)</b>
&nbsp;            {
<b class="fc">&nbsp;                return -1;</b>
&nbsp;            }
<b class="fc">&nbsp;            else if (ca &gt; cb)</b>
&nbsp;            {
<b class="fc">&nbsp;                return +1;</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            ++ia;</b>
<b class="fc">&nbsp;            ++ib;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    static char charAt(String s, int i)
&nbsp;    {
<b class="fc">&nbsp;        if (i &gt;= s.length())</b>
&nbsp;        {
<b class="nc">&nbsp;            return 0;</b>
&nbsp;        }
&nbsp;        else
&nbsp;        {
<b class="fc">&nbsp;            return s.charAt(i);</b>
&nbsp;        }
&nbsp;    }
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2024-04-18 22:00</div>
</div>
</body>
</html>
